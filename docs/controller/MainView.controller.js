sap.ui.define(["./BaseController","com/sap/ui5community/model/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,o){"use strict";return e.extend("com.sap.ui5community.controller.MainView",{onInit:function(){},onUpdateToken:function(e){const t=this.getView().getModel("settings");let n=t.getProperty("/search");n=n.trim();let o=t.getProperty("/tokens");let i=e.getParameter("type");if(i==="added"){o.push(e.getParameter("addedTokens")[0].getProperty("key"))}else if(i==="removed"){let t=e.getParameter("removedTokens")[0].getProperty("key");o=o.filter(e=>e!==t)}this._applySearchFilter(n,o)},onNavBack:function(){history.go(-1)},onPress:function(e){const t=e.getSource().getBindingContext("packages").getObject().name;this.navTo("RouteObjectView",{name:t})},liveSearch:function(e){const t=this.getView().getModel("settings");let n=e.getParameter("value").trim();let o=t.getProperty("/tokens");this._applySearchFilter(n,o)},_applySearchFilter:function(e,t){if(!e){e=""}this.getView().getModel("settings").setProperty("/search",e);this.getView().getModel("settings").setProperty("/tokens",t);const i=this.getView().byId("_IDGenList1");const r=i.getBinding("items");const s=new n({path:"name",operator:o.Contains,value1:e});const a=new n({path:"description",operator:o.Contains,value1:e});let l=[];for(let e=0;e<t.length;e++){let i=new n({path:"type",operator:o.Contains,value1:t[e]});l.push(i)}const c=new n({filters:l,and:false});const g=new n({filters:[s,a],and:false});if(l.length>0){r.filter(new n({filters:[g,c],and:true}))}else{r.filter(g)}}})});